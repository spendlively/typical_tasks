
Чтение в режиме совместного доступа (с блокировкой SELECT ... LOCK IN SHARE MODE)

//Пример применения
 - таблица детей ссылается на таблицу родителей внешним ключом
 - транзакция 1 добавляет запись в таблицу детей
 - нужно заблокировать запись родителей от удаления

//ВНИМАНИЕ!!!
//Без FOR UPDATE SELECT не будет дожидаться окончания блокировки и вернет значение
//1. READ UNCOMMITTED новое значение (даже если оно еще не закоммичено)
//2. READ COMMITTED, REPEATABLE READ ... - старое значение (если новое еще не закоммичено)
//Если 2 транзакция захочет тоже обновить - возможен ряд ошибок
